{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Printee Order Payload",
  "type": "object",
  "required": ["event", "idempotency_key", "created_at", "order", "customer", "items"],
  "properties": {
    "event": { "type": "string" },
    "idempotency_key": { "type": "string" },
    "created_at": { "type": "string", "format": "date-time" },
    "environment": { "type": "string" },
    "order": {
      "type": "object",
      "required": ["order_id", "order_number", "totals"],
      "properties": {
        "order_id": { "type": "string" },
        "order_number": { "type": "string" },
        "status": { "type": "string" },
        "currency": { "type": "string" },
        "totals": { "type": "object" }
      }
    },
    "customer": {
      "type": "object",
      "required": ["contact_name"],
      "properties": {
        "customer_id": { "type": "string" },
        "type": { "type": "string" },
        "company_name": { "type": "string" },
        "contact_name": { "type": "string" },
        "email": { "type": "string" },
        "phone": { "type": "string" }
      }
    },
    "delivery": {
      "type": "object",
      "properties": {
        "withDelivery": { "type": ["boolean", "integer", "string"] },
        "name": { "type": "string" },
        "phone": { "type": "string" },
        "address_line1": { "type": "string" },
        "address_line2": { "type": "string" },
        "city": { "type": "string" },
        "postcode": { "type": "string" },
        "country": { "type": "string" },
        "instructions": { "type": "string" }
      }
    },
    "items": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["line_id", "product_sku", "size_breakdown"],
        "properties": {
          "line_id": { "type": "string" },
          "product_sku": { "type": "string" },
          "product_name": { "type": "string" },
          "size_breakdown": {
            "type": "array",
            "items": { "type": "object", "required": ["size", "qty"], "properties": { "size": { "type": "string" }, "qty": { "type": "integer", "minimum": 0 } } }
          }
          ,
          "print_areas": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "areaKey": { "type": "string" },
                "method": { "type": "string" },
                "designer_comments": { "type": "string" },
                "print_color": { "type": "string" }
              }
            }
          }
        }
      }
    }
    
  },
  "additionalProperties": true
}
